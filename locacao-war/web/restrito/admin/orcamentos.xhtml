<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"                
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="titleOfPage">
        Orçamentos
    </ui:define>

    <ui:define name="content">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h:form style="height: 35px;" >
                <h:commandLink class="btn btn-default" title="Voltar" actionListener="#{eventoControl.esconde}" style="margin-right: 10px; float: left;">
                    <i class="fa fa-reply"></i>
                </h:commandLink>

                <h:commandLink class="btn btn-success" title="Novo" actionListener="#{eventoControl.addNovo}" 
                               style="float:left;margin-right: 10px;" 
                               rendered="#{eventoControl.showAdd eq false and eventoControl.showEdit eq false}">
                    <i class="fa fa-plus"></i>
                </h:commandLink>

                <h:commandLink class="btn btn-danger" title="Excluir" actionListener="#{eventoControl.doFinishExcluir}" 
                               onclick="return confirm('Tem certeza que deseja excluir o cliente selecionado?')" style="margin-right: 10px;float:left;" rendered="#{eventoControl.showEdit eq true}">
                    <i class="fa fa-remove"></i>
                </h:commandLink>

                <h:panelGroup rendered="#{eventoControl.showAdd eq false and eventoControl.showEdit eq false}">
                    <!--<div class="input-group input-group-sm" style="max-width: 30%;float:left;" >
                        <h:inputText onkeypress="{eventoControl.pesquisaEvento()}" class="form-control" value="{eventoControl.localizarNome}"/>
                        <span class="input-group-btn">
                            <h:commandLink class="btn btn-info btn-flat" type="button" action="{eventoControl.pesquisaEvento}">
                                <i class="fa fa-search"></i>
                            </h:commandLink>
                        </span>
                    </div>-->
                </h:panelGroup>
            </h:form>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-files-o"></i> Home</a></li>
                <li><a href="#">Pedidos</a></li>
                <li class="active">Orçamentos</li>
            </ol>
        </section>
        <!-- Main content -->
        <section class="content">
            <h:form id="form_message" style="margin: 0 10px;">
                <p:messages id="msg" autoUpdate="form_message" closable="true"/>
            </h:form>
            <div class="row">
                <div class="col-xs-12">
                    <div class="box">
                        <h:panelGroup rendered="#{eventoControl.showAdd eq false and eventoControl.showEdit eq false}">
                            <div class="box-header">
                                <h3 class="box-title">Orçamentos</h3>
                            </div><!-- /.box-header -->
                            <div class="box-body">
                                <div class="row">
                                    <div class="col-md-10">
                                        <div class="form-group">
                                            <h:form>
                                                <div class="input-group input-group-sm" style="max-width: 30%;float:left;" >
                                                    <h:outputLabel for="pesquisaCli">Cliente</h:outputLabel>
                                                    <h:inputText id="pesquisaCli" onkeypress="#{clientesControl.pesquisaCliente()}" class="form-control" 
                                                                 value="#{clientesControl.localizarNome}"/>
                                                    <span class="input-group-btn" style="padding-top:24px;">
                                                        <h:commandLink class="btn btn-info btn-flat" type="button" 
                                                                       action="#{clientesControl.pesquisaCliente}">
                                                            <i class="fa fa-search"></i>
                                                        </h:commandLink>
                                                    </span>
                                                </div>
                                            </h:form>
                                        </div>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <h:outputLabel for="dtevento">Dt Evento</h:outputLabel>
                                            <h:inputText class="form-control" id="dtevento" value="#{eventoControl.evtSelected.dataEvento}"/>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <h:outputLabel for="dtentrega"> Dt Entrega</h:outputLabel>
                                            <h:inputText class="form-control" id="dtentrega" value="#{eventoControl.evtSelected.dataEntrega}"/>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <h:outputLabel for="tipoEvento" value="Tipo Evento"/>
                                            <h:selectOneMenu id="tipoEvento" value="#{eventoControl.evtSelected.tipo}"
                                                             class="form-control"  requiredMessage="Tipo Evento">

                                                <f:selectItem itemValue="" itemLabel="Selecione..."/>
                                                <f:selectItem itemValue="Jantar" itemLabel="Jantar"/>
                                                <f:selectItem itemValue="Casamento" itemLabel="Casamento"/>
                                                <f:selectItem itemValue="Aniversário" itemLabel="Aniversário"/>
                                                <f:selectItem itemValue="Outro" itemLabel="Outro"/>
                                            </h:selectOneMenu>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <h:outputLabel for="dev"> Dt Entrega</h:outputLabel>
                                            <h:inputText class="form-control" id="dev" value="#{eventoControl.evtSelected.dataEntrega}"/>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <h:outputLabel for="entrega" value="Quem Entrega"/>
                                            <h:selectOneMenu id="entrega" value="#{eventoControl.evtSelected.retirada}"
                                                             class="form-control" requiredMessage="Entrega">

                                                <f:selectItem itemValue="" itemLabel="Selecione..."/>
                                                <f:selectItem itemValue="Locadora" itemLabel="Locadora"/>
                                                <f:selectItem itemValue="Cliente" itemLabel="Cliente"/>                                                        
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-2">
                                        <h:outputLabel for="dt_dev"> Dt Devolução</h:outputLabel>
                                        <h:inputText class="form-control" id="dt_dev" value="#{eventoControl.evtSelected.dataEntrega}"/>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <h:outputLabel for="devolucao" value="Quem Devolve"/>
                                            <h:selectOneMenu id="devolucao" value="#{eventoControl.evtSelected.retirada}"
                                                             class="form-control" requiredMessage="Entrega">

                                                <f:selectItem itemValue="" itemLabel="Selecione..."/>
                                                <f:selectItem itemValue="Locadora" itemLabel="Locadora"/>
                                                <f:selectItem itemValue="Cliente" itemLabel="Cliente"/>                                                        
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <h:outputLabel for="end">Endereço</h:outputLabel>
                                            <h:inputText class="form-control" id="end" />
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <h:outputLabel for="bairro">Bairro</h:outputLabel>
                                            <h:inputText class="form-control" id="bairro" />
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <h:outputLabel for="frete">Frete</h:outputLabel>
                                            <h:inputText class="form-control" id="frete" />
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <h:outputLabel for="cidade">Cidade</h:outputLabel>
                                            <h:inputText class="form-control" id="cidade" />
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <h:outputLabel for="cep">CEP</h:outputLabel>
                                            <h:inputText class="form-control" id="cep" />
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <h:outputLabel for="est" value="Estado"/>
                                            <h:selectOneMenu id="est" value="#{clientesControl.cliSelected.estado}"
                                                             class="form-control" requiredMessage="Estado">
                                                <f:selectItem itemValue="" itemLabel="Selecione..."/>
                                                <f:selectItem itemValue="AC" itemLabel="AC"/>
                                                <f:selectItem itemValue="AP" itemLabel="AP"/>
                                                <f:selectItem itemValue="BA" itemLabel="BA"/>
                                                <f:selectItem itemValue="CE" itemLabel="CE"/>
                                                <f:selectItem itemValue="DF" itemLabel="DF"/>
                                                <f:selectItem itemValue="ES" itemLabel="ES"/>
                                                <f:selectItem itemValue="GO" itemLabel="GO"/>
                                                <f:selectItem itemValue="MA" itemLabel="MA"/>
                                                <f:selectItem itemValue="MT" itemLabel="MT"/>
                                                <f:selectItem itemValue="ES" itemLabel="ES"/>
                                                <f:selectItem itemValue="MG" itemLabel="MG"/>
                                                <f:selectItem itemValue="PA" itemLabel="PA"/>
                                                <f:selectItem itemValue="PB" itemLabel="PB"/>
                                                <f:selectItem itemValue="PR" itemLabel="PB"/>
                                                <f:selectItem itemValue="PE" itemLabel="PE"/>
                                                <f:selectItem itemValue="PI" itemLabel="PI"/>
                                                <f:selectItem itemValue="RJ" itemLabel="RJ"/>
                                                <f:selectItem itemValue="RN" itemLabel="RN"/>
                                                <f:selectItem itemValue="RS" itemLabel="RS"/>
                                                <f:selectItem itemValue="RO" itemLabel="RO"/>
                                                <f:selectItem itemValue="RR" itemLabel="RR"/>
                                                <f:selectItem itemValue="SC" itemLabel="SC"/>
                                                <f:selectItem itemValue="SP" itemLabel="SP"/>
                                                <f:selectItem itemValue="SE" itemLabel="SE"/>
                                                <f:selectItem itemValue="TO" itemLabel="TO"/>
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <p:outputLabel value="Produto" for="prod"/>
                                            <p:autoComplete styleClass="form-control" id="prod" value="#{autocompleteControl.produto}" completeMethod="#{autocompleteControl.completeProdutos(produto)}"/>
                                        </div>
                                    </div>
                                </div>                            
                            </div>
                        </h:panelGroup>
                    </div><!-- /.box-body -->
                </div>
            </div>
        </section>
    </ui:define>
</ui:composition>
