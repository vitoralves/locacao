<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./base.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"                
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="titleOfPage">
        Disponibilidade
    </ui:define>

    <!--  <ui:define name="top">
          top
      </ui:define>-->

    <ui:define name="content">
        <div id="wrapper">
            <div id="page-wrapper">
                <div class="container-fluid">
                    <h:form id="form_message" style="margin: 0 10px;">
                        <p:messages id="msg" autoUpdate="form_message" closable="true"/>
                    </h:form>

                    <div class="painel">
                        <span class="titulo">PESQUISA</span>
                        <h:form class="form-inline">
                            
                            <div class="form-group">
                                <h:outputLabel for="cod" class="exempleInputName2">Código</h:outputLabel>
                                <h:inputText  id="cod" class="form-control" value="#{estoqueControl.codProd}"/>
                            </div>
                            
                            <div class="form-group">
                                <h:outputLabel for="nome" class="exempleInputName2">Nome</h:outputLabel>
                                <h:inputText  id="nome" class="form-control" value="#{estoqueControl.nomeProd}"/>
                            </div>
                            
                            <div class="form-group">
                                <h:commandButton actionListener="#{estoqueControl.pesquisaNome}" value="Buscar" 
                                                 styleClass="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary"/>
                            </div>
                        </h:form>
                    </div>
                    <h:panelGroup>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h3 class="panel-title">Estoque</h3>
                                    </div>
                                    <div class="panel-body">
                                        <div class="table-responsive">
                                            <h:form>   
                                                <h:dataTable value="#{estoqueControl.pesquisaTodos()}" var="item" 
                                                             styleClass="table table-striped">
                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Código"/>                                                
                                                        </f:facet>
                                                        <h:outputText value="#{item.idProduto}"/>
                                                    </h:column>
                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Nome"/>                                                
                                                        </f:facet>
                                                        <h:outputText value="#{item.nome}"/>
                                                    </h:column>

                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Categoria"/>                                                
                                                        </f:facet>
                                                        <h:outputText value="#{item.categoria.nome}"/>
                                                    </h:column>

                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Descrição"/>                                                
                                                        </f:facet>
                                                        <h:outputText value="#{item.descricao}"/>
                                                    </h:column>                                                      

                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Fornecedor"/>                                                
                                                        </f:facet>
                                                        <h:outputText value="#{item.fornecedor.nome}"/>
                                                    </h:column>
                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Quantidade"/>                                                
                                                        </f:facet>
                                                        <h:outputText value="#{item.quantidade}"/>
                                                    </h:column>

                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Valor Custo"/>                                                
                                                        </f:facet>
                                                        <h:outputText value="#{item.valCusto}"/>
                                                    </h:column>

                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Valor Diária"/>                                                
                                                        </f:facet>
                                                        <h:outputText value="#{item.valDiaria}"/>
                                                    </h:column>

                                                    <h:column>
                                                        <f:facet name="header">

                                                        </f:facet>
                                                        <h:commandButton image="/resources/img/editar.png" title="Editart"   action="#{estoqueControl.editar()}">                                        
                                                            <f:setPropertyActionListener value="#{item}" target="#{estoqueControl.prodSelected}"/> <!-- seta valor do item inteiro (#item) na propriedade funcionarioSelected-->
                                                        </h:commandButton>
                                                        &nbsp;
                                                        <h:commandButton image="/resources/img/delete.png" title="Apagar"   action="#{estoqueControl.apagar()}">                                        
                                                            <f:setPropertyActionListener value="#{item}" target="#{estoqueControl.prodSelected}"/> <!-- seta valor do item inteiro (#item) na propriedade funcionarioSelected-->
                                                        </h:commandButton>
                                                    </h:column>

                                                </h:dataTable> 
                                            </h:form>
                                        </div>
                                        <h:form>
                                            <div class="row" style="float:right;padding:15px;">
                                                <h:commandButton actionListener="#{estoqueControl.addNovo()}"
                                                                 value="Novo" styleClass="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary"/>
                                            </div>
                                        </h:form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </h:panelGroup>

                    <h:panelGroup rendered="#{clientesControl.showAdd eq true}">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Novo Cliente</h3>
                            </div>
                            <div class="panel-body">
                                <h:form>      
                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="nome" class="mdl-textfield__label">Nome</h:outputLabel>
                                        <h:inputText  id="nome" class="mdl-textfield__input" value="#{clientesControl.cliSelected.nome}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="sobrenome" class="mdl-textfield__label">Sobrenome</h:outputLabel>
                                        <h:inputText  id="sobrenome" class="mdl-textfield__input" value="#{clientesControl.cliSelected.sobrenome}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="tel" class="mdl-textfield__label">Telefone</h:outputLabel>
                                        <h:inputText  id="tel" class="mdl-textfield__input" value="#{clientesControl.cliSelected.telefone}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="cel" class="mdl-textfield__label">Celular</h:outputLabel>
                                        <h:inputText  id="cel" class="mdl-textfield__input" value="#{clientesControl.cliSelected.celular}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="cpf" class="mdl-textfield__label">CPF</h:outputLabel>
                                        <h:inputText  id="cpf" class="mdl-textfield__input" value="#{clientesControl.cliSelected.cpf}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="email" class="mdl-textfield__label">E-mail</h:outputLabel>
                                        <h:inputText  id="email" class="mdl-textfield__input" value="#{clientesControl.cliSelected.email}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="i" class="mdl-textfield__label">Inscrição</h:outputLabel>
                                        <h:inputText  id="i" class="mdl-textfield__input" value="#{clientesControl.cliSelected.inscricao}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="e" class="mdl-textfield__label">Endereço</h:outputLabel>
                                        <h:inputText  id="e" class="mdl-textfield__input" value="#{clientesControl.cliSelected.endereco}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="c" class="mdl-textfield__label">CEP</h:outputLabel>
                                        <h:inputText  id="c" class="mdl-textfield__input" value="#{clientesControl.cliSelected.cep}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="t" class="mdl-textfield__label">Tipo</h:outputLabel>
                                        <h:inputText  id="t" class="mdl-textfield__input" value="#{clientesControl.cliSelected.tipo}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="r" class="mdl-textfield__label">Razão Social</h:outputLabel>
                                        <h:inputText  id="r" class="mdl-textfield__input" value="#{clientesControl.cliSelected.razaoSocial}"/>
                                    </div>

                                    <div class="row" style="float:right;padding:15px;">
                                        <h:commandButton action="#{clientesControl.salvarNovo()}" 
                                                         value="Salvar" styleClass="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary"/> &nbsp; 
                                        <h:commandButton action="#{clientesControl.esconde()}" value="Cancelar" 
                                                         immediate="true" styleClass="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--default"/>
                                    </div>
                                </h:form>
                            </div>
                        </div>
                    </h:panelGroup>

                    <h:panelGroup rendered="#{usuarioControl.showEdit eq true}">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Editando usuário #{usuarioControl.usuSelected.nome}</h3>
                            </div>
                            <div class="panel-body">
                                <h:form>         
                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="nome" class="mdl-textfield__label">Nome</h:outputLabel>
                                        <h:inputText  id="nome" class="mdl-textfield__input" value="#{usuarioControl.usuSelected.nome}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="sobrenome" class="mdl-textfield__label">Sobrenome</h:outputLabel>
                                        <h:inputText  id="sobrenome" class="mdl-textfield__input" value="#{usuarioControl.usuSelected.sobrenome}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="tel" class="mdl-textfield__label">Telefone</h:outputLabel>
                                        <h:inputText  id="tel" class="mdl-textfield__input" value="#{usuarioControl.usuSelected.telefone}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="cel" class="mdl-textfield__label">Celular</h:outputLabel>
                                        <h:inputText  id="cel" class="mdl-textfield__input" value="#{usuarioControl.usuSelected.celular}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="cpf" class="mdl-textfield__label">CPF</h:outputLabel>
                                        <h:inputText  id="cpf" class="mdl-textfield__input" value="#{usuarioControl.usuSelected.cpf}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="email" class="mdl-textfield__label">E-mail</h:outputLabel>
                                        <h:inputText  id="email" class="mdl-textfield__input" value="#{usuarioControl.usuSelected.email}"/>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <h:outputLabel for="login" class="mdl-textfield__label">Login</h:outputLabel>
                                        <h:inputText  id="login" class="mdl-textfield__input" value="#{usuarioControl.usuSelected.login}"/>
                                    </div>

                                    <div style="position: relative;
                                         font-size: 16px;
                                         display: inline-block;
                                         box-sizing: border-box;
                                         width: 300px;
                                         max-width: 100%;
                                         margin: 0px 0px -95px 18px;
                                         padding: 20px 0px;">
                                        <h:selectBooleanCheckbox id="adm" value="#{usuarioControl.usuSelected.admin}" styleClass="mdl-checkbox__input"/>
                                        <span class="mdl-checkbox__label">Administrador</span>
                                    </div>

                                    <div class="row" style="float:right;padding:15px;">
                                        <h:commandButton action="#{usuarioControl.salvarEditado()}" 
                                                         value="Salvar" styleClass="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary"/> &nbsp; 
                                        <h:commandButton action="#{usuarioControl.esconde()}" value="Cancelar" 
                                                         immediate="true" styleClass="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--default"/>
                                    </div>
                                </h:form>
                            </div>
                        </div>
                    </h:panelGroup>


                </div>
            </div>
        </div>
    </ui:define>

</ui:composition>
